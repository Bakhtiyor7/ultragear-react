{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Favorite,FavoriteBorder}from\"@mui/icons-material\";import RemoveRedEyeIcon from\"@mui/icons-material/RemoveRedEye\";import{Box,Link,Stack}from\"@mui/material\";import Checkbox from\"@mui/material/Checkbox\";import assert from\"assert\";import moment from\"moment\";import{Definer}from\"../../../lib/Definer\";import{serverApi}from\"../../../lib/config\";import{sweetErrorHandling,sweetTopSmallSuccessAlert}from\"../../../lib/sweetAlert\";import MemberApiService from\"../../apiServices/memberApiService\";import{verifiedMemberData}from\"../../apiServices/verify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function TargetArticles(props){var _props$targetBoArticl;var setArticleRebuild=props.setArticleRebuild;//  HANDLERS\nvar targetLikeHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var memberService,like_result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;assert.ok(verifiedMemberData,Definer.auth_err1);memberService=new MemberApiService();_context.next=5;return memberService.memberLikeTarget({like_ref_id:e.target.id,group_type:\"community\"});case 5:like_result=_context.sent;assert.ok(like_result,Definer.general_err1);_context.next=9;return sweetTopSmallSuccessAlert(\"success\",700,false);case 9:setArticleRebuild(new Date());_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);sweetErrorHandling(_context.t0).then();case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function targetLikeHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Stack,{direction:\"row\",flexWrap:\"wrap\",gap:5,className:\"all_articles_wrapper\",children:(_props$targetBoArticl=props.targetBoArticles)===null||_props$targetBoArticl===void 0?void 0:_props$targetBoArticl.map(function(article){var _article$me_liked$,_article$member_data;var art_image_url=article!==null&&article!==void 0&&article.art_image?\"\".concat(serverApi,\"/\").concat(article.art_image):\"/community/article_default.jpg\";// const width = `clamp(18rem, calc(20rem + 2vw), 20rem`;\nreturn/*#__PURE__*/_jsx(Box,{// width={width}\nboxSizing:\"border-box\",children:/*#__PURE__*/_jsxs(Link,{className:\"all_article_box\",sx:{textDecoration:\"none\"},href:\"/member-page/other?mb_id=\".concat(article.mb_id,\"&art_id=\").concat(article._id),children:[/*#__PURE__*/_jsx(Box,{className:\"article_header\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(art_image_url),alt:\"article image\"})}),/*#__PURE__*/_jsxs(Box,{className:\"all_article_container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"all_article_title\",children:article===null||article===void 0?void 0:article.bo_id}),/*#__PURE__*/_jsx(\"span\",{className:\"all_article_desc\",children:article===null||article===void 0?void 0:article.art_subject}),/*#__PURE__*/_jsx(Box,{style:{display:\"flex\",flexDirection:\"column\",marginTop:\"15px\",alignSelf:\"flex-start\"}}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Box,{className:\"article_share\",style:{alignSelf:\"flex-start\"},sx:{mb:\"10px\"},children:/*#__PURE__*/_jsxs(Box,{className:\"article_share_main\",style:{color:\"#000\",display:\"flex\",alignItems:\"center\",marginRight:\"50px\"},children:[/*#__PURE__*/_jsx(Checkbox,{sx:{color:\"black\"},icon:/*#__PURE__*/_jsx(FavoriteBorder,{}),checkedIcon:/*#__PURE__*/_jsx(Favorite,{style:{color:\"red\"}}),id:article===null||article===void 0?void 0:article._id/**@ts-ignore */,onClick:targetLikeHandler,checked:article!==null&&article!==void 0&&article.me_liked&&article!==null&&article!==void 0&&(_article$me_liked$=article.me_liked[0])!==null&&_article$me_liked$!==void 0&&_article$me_liked$.my_favorite?true:false}),/*#__PURE__*/_jsx(\"span\",{style:{marginRight:\"15px\"},children:article===null||article===void 0?void 0:article.art_likes}),/*#__PURE__*/_jsx(RemoveRedEyeIcon,{}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"8px\"},children:article===null||article===void 0?void 0:article.art_views})]})})}),/*#__PURE__*/_jsxs(Box,{alignItems:\"center\",display:\"flex\",gap:\"10px\",children:[/*#__PURE__*/_jsx(\"img\",{src:article!==null&&article!==void 0&&(_article$member_data=article.member_data)!==null&&_article$member_data!==void 0&&_article$member_data.mb_image?\"\".concat(serverApi,\"/\").concat(article.member_data.mb_image):\"/auth/default_avatar.jpg\",alt:\"member image\",width:\"35px\",style:{borderRadius:\"50%\",backgroundSize:\"cover\"},className:\"author_img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_name_container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"all_article_author_user\",children:article===null||article===void 0?void 0:article.member_data.mb_nick}),/*#__PURE__*/_jsx(\"span\",{className:\"written_date\",children:moment(article===null||article===void 0?void 0:article.createdAt).fromNow()})]})]})]})]})},article===null||article===void 0?void 0:article._id);})});}","map":{"version":3,"names":["Favorite","FavoriteBorder","RemoveRedEyeIcon","Box","Link","Stack","Checkbox","assert","moment","Definer","serverApi","sweetErrorHandling","sweetTopSmallSuccessAlert","MemberApiService","verifiedMemberData","TargetArticles","props","setArticleRebuild","targetLikeHandler","e","ok","auth_err1","memberService","memberLikeTarget","like_ref_id","target","id","group_type","like_result","general_err1","Date","console","log","then","targetBoArticles","map","article","art_image_url","art_image","textDecoration","mb_id","_id","bo_id","art_subject","display","flexDirection","marginTop","alignSelf","mb","color","alignItems","marginRight","me_liked","my_favorite","art_likes","marginLeft","art_views","member_data","mb_image","borderRadius","backgroundSize","mb_nick","createdAt","fromNow"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/src/app/screens/CommunityPage/targetArticles.tsx"],"sourcesContent":["import { Favorite, FavoriteBorder } from \"@mui/icons-material\";\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\";\nimport { Box, Link, Stack } from \"@mui/material\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport assert from \"assert\";\nimport moment from \"moment\";\nimport { Definer } from \"../../../lib/Definer\";\nimport { serverApi } from \"../../../lib/config\";\nimport {\n  sweetErrorHandling,\n  sweetTopSmallSuccessAlert,\n} from \"../../../lib/sweetAlert\";\nimport { BoArticle } from \"../../../types/boArticle\";\nimport MemberApiService from \"../../apiServices/memberApiService\";\nimport { verifiedMemberData } from \"../../apiServices/verify\";\n\nexport function TargetArticles(props: any) {\n  const { setArticleRebuild } = props;\n  //  HANDLERS\n  const targetLikeHandler = async (e: any) => {\n    try {\n      assert.ok(verifiedMemberData, Definer.auth_err1);\n\n      const memberService = new MemberApiService();\n      const like_result = await memberService.memberLikeTarget({\n        like_ref_id: e.target.id,\n        group_type: \"community\",\n      });\n      assert.ok(like_result, Definer.general_err1);\n      await sweetTopSmallSuccessAlert(\"success\", 700, false);\n      setArticleRebuild(new Date());\n    } catch (err: any) {\n      console.log(err);\n      sweetErrorHandling(err).then();\n    }\n  };\n  return (\n    <Stack\n      direction={\"row\"}\n      flexWrap={\"wrap\"}\n      gap={5}\n      className={\"all_articles_wrapper\"}\n    >\n      {props.targetBoArticles?.map((article: BoArticle) => {\n        const art_image_url = article?.art_image\n          ? `${serverApi}/${article.art_image}`\n          : \"/community/article_default.jpg\";\n        // const width = `clamp(18rem, calc(20rem + 2vw), 20rem`;\n        return (\n          <Box\n            key={article?._id}\n            // width={width}\n            boxSizing=\"border-box\"\n          >\n            <Link\n              className={\"all_article_box\"}\n              sx={{ textDecoration: \"none\" }}\n              href={`/member-page/other?mb_id=${article.mb_id}&art_id=${article._id}`}\n            >\n              <Box className=\"article_header\">\n                <img src={`${art_image_url}`} alt=\"article image\" />\n              </Box>\n              <Box className={\"all_article_container\"}>\n                <span className={\"all_article_title\"}>{article?.bo_id}</span>\n                <span className={\"all_article_desc\"}>\n                  {article?.art_subject}\n                </span>\n                <Box\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    marginTop: \"15px\",\n                    alignSelf: \"flex-start\",\n                  }}\n                ></Box>\n                <Box>\n                  <Box\n                    className={\"article_share\"}\n                    style={{ alignSelf: \"flex-start\" }}\n                    sx={{ mb: \"10px\" }}\n                  >\n                    <Box\n                      className={\"article_share_main\"}\n                      style={{\n                        color: \"#000\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        marginRight: \"50px\",\n                      }}\n                    >\n                      <Checkbox\n                        sx={{ color: \"black\" }}\n                        icon={<FavoriteBorder />}\n                        checkedIcon={<Favorite style={{ color: \"red\" }} />}\n                        id={article?._id}\n                        /**@ts-ignore */\n                        onClick={targetLikeHandler}\n                        checked={\n                          article?.me_liked && article?.me_liked[0]?.my_favorite\n                            ? true\n                            : false\n                        }\n                      />\n                      <span style={{ marginRight: \"15px\" }}>\n                        {article?.art_likes}\n                      </span>\n                      <RemoveRedEyeIcon />\n                      <span style={{ marginLeft: \"8px\" }}>\n                        {article?.art_views}\n                      </span>\n                    </Box>\n                  </Box>\n                </Box>\n                <Box alignItems={\"center\"} display={\"flex\"} gap={\"10px\"}>\n                  <img\n                    src={\n                      article?.member_data?.mb_image\n                        ? `${serverApi}/${article.member_data.mb_image}`\n                        : \"/auth/default_avatar.jpg\"\n                    }\n                    alt={\"member image\"}\n                    width={\"35px\"}\n                    style={{ borderRadius: \"50%\", backgroundSize: \"cover\" }}\n                    className={\"author_img\"}\n                  />\n                  <div className=\"user_name_container\">\n                    <span className={\"all_article_author_user\"}>\n                      {article?.member_data.mb_nick}\n                    </span>\n                    <span className=\"written_date\">\n                      {moment(article?.createdAt).fromNow()}\n                    </span>\n                  </div>\n                </Box>\n              </Box>\n            </Link>\n          </Box>\n        );\n      })}\n    </Stack>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}