{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import assert from\"assert\";import axios from\"axios\";import{serverApi}from\"../../lib/config\";import{Definer}from\"../../lib/Definer\";var OrderApiService=/*#__PURE__*/function(){function OrderApiService(){_classCallCheck(this,OrderApiService);this.path=void 0;this.path=serverApi;}_createClass(OrderApiService,[{key:\"createOrder\",value:function(){var _createOrder=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var _result$data,_result$data2,url,result,order;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=\"/orders/create\";_context.next=4;return axios.post(this.path+url,data,{withCredentials:true});case 4:result=_context.sent;assert.ok(result===null||result===void 0?void 0:result.data,Definer.general_err1);assert.ok((result===null||result===void 0?void 0:(_result$data=result.data)===null||_result$data===void 0?void 0:_result$data.state)!=\"fail\",result===null||result===void 0?void 0:(_result$data2=result.data)===null||_result$data2===void 0?void 0:_result$data2.message);console.log(\"state:\",result.data.state);order=result.data.data;console.log(\"order:\",order);return _context.abrupt(\"return\",true);case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(\"createOrder, ERROR \".concat(_context.t0.message));throw _context.t0;case 17:case\"end\":return _context.stop();}}},_callee,this,[[0,13]]);}));function createOrder(_x){return _createOrder.apply(this,arguments);}return createOrder;}()},{key:\"getMyOrders\",value:function(){var _getMyOrders=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(order_status){var _result$data3,_result$data4,url,result,orders;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;url=\"/orders?status=\".concat(order_status);_context2.next=4;return axios.get(this.path+url,{withCredentials:true});case 4:result=_context2.sent;assert.ok(result===null||result===void 0?void 0:result.data,Definer.general_err1);assert.ok((result===null||result===void 0?void 0:(_result$data3=result.data)===null||_result$data3===void 0?void 0:_result$data3.state)!=\"fail\",result===null||result===void 0?void 0:(_result$data4=result.data)===null||_result$data4===void 0?void 0:_result$data4.message);console.log(\"state:\",result.data.state);orders=result.data.data;console.log(\"orders:\",orders);return _context2.abrupt(\"return\",orders);case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(\"getMyOrders, ERROR \".concat(_context2.t0.message));throw _context2.t0;case 17:case\"end\":return _context2.stop();}}},_callee2,this,[[0,13]]);}));function getMyOrders(_x2){return _getMyOrders.apply(this,arguments);}return getMyOrders;}()},{key:\"updateOrderStatus\",value:function(){var _updateOrderStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data){var _result$data5,_result$data6,url,result,order;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;url=\"/orders/edit\";_context3.next=4;return axios.post(this.path+url,data,{withCredentials:true});case 4:result=_context3.sent;assert.ok(result===null||result===void 0?void 0:result.data,Definer.general_err1);assert.ok((result===null||result===void 0?void 0:(_result$data5=result.data)===null||_result$data5===void 0?void 0:_result$data5.state)!=\"fail\",result===null||result===void 0?void 0:(_result$data6=result.data)===null||_result$data6===void 0?void 0:_result$data6.message);console.log(\"state:\",result.data.state);order=result.data.data;return _context3.abrupt(\"return\",order);case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);console.log(\"getMyOrders, ERROR \".concat(_context3.t0.message));throw _context3.t0;case 16:case\"end\":return _context3.stop();}}},_callee3,this,[[0,12]]);}));function updateOrderStatus(_x3){return _updateOrderStatus.apply(this,arguments);}return updateOrderStatus;}()}]);return OrderApiService;}();export default OrderApiService;","map":{"version":3,"names":["assert","axios","serverApi","Definer","OrderApiService","path","data","url","post","withCredentials","result","ok","general_err1","state","message","console","log","order","order_status","get","orders"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/src/app/apiServices/orderApiService.ts"],"sourcesContent":["import assert from \"assert\";\nimport axios from \"axios\";\nimport { createRoot } from \"react-dom/client\";\nimport { serverApi } from \"../../lib/config\";\nimport { Definer } from \"../../lib/Definer\";\nimport { CartItem } from \"../../types/others\";\n\nclass OrderApiService {\n  private readonly path: string;\n\n  constructor() {\n    this.path = serverApi;\n  }\n  async createOrder(data: CartItem[]) {\n    try {\n      const url = \"/orders/create\",\n        result = await axios.post(this.path + url, data, {\n          withCredentials: true,\n        });\n      assert.ok(result?.data, Definer.general_err1);\n      assert.ok(result?.data?.state != \"fail\", result?.data?.message);\n      console.log(\"state:\", result.data.state);\n\n      const order: any = result.data.data;\n      console.log(\"order:\", order);\n      return true;\n    } catch (err: any) {\n      console.log(`createOrder, ERROR ${err.message}`);\n      throw err;\n    }\n  }\n\n  async getMyOrders(order_status: string) {\n    try {\n      const url = `/orders?status=${order_status}`,\n        result = await axios.get(this.path + url, {\n          withCredentials: true,\n        });\n      assert.ok(result?.data, Definer.general_err1);\n      assert.ok(result?.data?.state != \"fail\", result?.data?.message);\n      console.log(\"state:\", result.data.state);\n\n      const orders: any = result.data.data;\n      console.log(\"orders:\", orders);\n      return orders;\n    } catch (err: any) {\n      console.log(`getMyOrders, ERROR ${err.message}`);\n      throw err;\n    }\n  }\n\n  async updateOrderStatus(data: any) {\n    try {\n      const url = \"/orders/edit\",\n        result = await axios.post(this.path + url, data, {\n          withCredentials: true,\n        });\n      assert.ok(result?.data, Definer.general_err1);\n      assert.ok(result?.data?.state != \"fail\", result?.data?.message);\n      console.log(\"state:\", result.data.state);\n\n      const order: any = result.data.data;\n      return order;\n    } catch (err: any) {\n      console.log(`getMyOrders, ERROR ${err.message}`);\n      throw err;\n    }\n  }\n}\n\nexport default OrderApiService;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}