{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import axios from\"axios\";import assert from\"assert\";import{serverApi}from\"../../lib/config\";import{Definer}from\"../../lib/Definer\";var ProductApiService=/*#__PURE__*/function(){function ProductApiService(){_classCallCheck(this,ProductApiService);this.path=void 0;this.path=serverApi;}_createClass(ProductApiService,[{key:\"getTargetProducts\",value:function(){var _getTargetProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var _result$data,_result$data2,url,result,products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"data:::\",data);_context.prev=1;url=\"/products\";_context.next=5;return axios.post(this.path+url,data,{withCredentials:true});case 5:result=_context.sent;assert.ok(result===null||result===void 0?void 0:result.data,Definer.general_err1);assert.ok((result===null||result===void 0?void 0:(_result$data=result.data)===null||_result$data===void 0?void 0:_result$data.state)!=\"fail\",result===null||result===void 0?void 0:(_result$data2=result.data)===null||_result$data2===void 0?void 0:_result$data2.message);console.log(\"state:\",result.data.state);products=result.data.data;return _context.abrupt(\"return\",products);case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.log(\"ERROR::: getTargetProducts \".concat(_context.t0.message));throw _context.t0;case 17:case\"end\":return _context.stop();}}},_callee,this,[[1,13]]);}));function getTargetProducts(_x){return _getTargetProducts.apply(this,arguments);}return getTargetProducts;}()},{key:\"getChosenProduct\",value:function(){var _getChosenProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(product_id){var _result$data3,_result$data4,url,result,product;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;url=\"/products/\".concat(product_id);_context2.next=4;return axios.get(this.path+url,{withCredentials:true});case 4:result=_context2.sent;assert.ok(result===null||result===void 0?void 0:result.data,Definer.general_err1);assert.ok((result===null||result===void 0?void 0:(_result$data3=result.data)===null||_result$data3===void 0?void 0:_result$data3.state)!=\"fail\",result===null||result===void 0?void 0:(_result$data4=result.data)===null||_result$data4===void 0?void 0:_result$data4.message);console.log(\"state:\",result.data.state);console.log(\"state:\",result.data.data);product=result.data.data;return _context2.abrupt(\"return\",product);case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(\"ERROR::: getChosenProduct \".concat(_context2.t0.message));throw _context2.t0;case 17:case\"end\":return _context2.stop();}}},_callee2,this,[[0,13]]);}));function getChosenProduct(_x2){return _getChosenProduct.apply(this,arguments);}return getChosenProduct;}()}]);return ProductApiService;}();export default ProductApiService;","map":{"version":3,"names":["axios","assert","serverApi","Definer","ProductApiService","path","data","console","log","url","post","withCredentials","result","ok","general_err1","state","message","products","product_id","get","product"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/src/app/apiServices/productApiService.ts"],"sourcesContent":["import axios from \"axios\";\nimport assert from \"assert\";\nimport { serverApi } from \"../../lib/config\";\nimport { Definer } from \"../../lib/Definer\";\nimport { ProductSearchObj } from \"../../types/others\";\nimport { Product } from \"../../types/product\";\n\nclass ProductApiService {\n  private readonly path: string;\n\n  constructor() {\n    this.path = serverApi;\n  }\n\n  async getTargetProducts(data: ProductSearchObj) {\n    console.log(\"data:::\", data);\n    try {\n      const url = \"/products\",\n        result = await axios.post(this.path + url, data, {\n          withCredentials: true,\n        });\n\n      assert.ok(result?.data, Definer.general_err1);\n      assert.ok(result?.data?.state != \"fail\", result?.data?.message);\n      console.log(\"state:\", result.data.state);\n      const products: Product[] = result.data.data;\n      return products;\n    } catch (err: any) {\n      console.log(`ERROR::: getTargetProducts ${err.message}`);\n      throw err;\n    }\n  }\n\n  async getChosenProduct(product_id: string) {\n    try {\n      const url = `/products/${product_id}`,\n        result = await axios.get(this.path + url, {\n          withCredentials: true,\n        });\n      assert.ok(result?.data, Definer.general_err1);\n      assert.ok(result?.data?.state != \"fail\", result?.data?.message);\n      console.log(\"state:\", result.data.state);\n\n      console.log(\"state:\", result.data.data);\n      const product: Product = result.data.data;\n      return product;\n    } catch (err: any) {\n      console.log(`ERROR::: getChosenProduct ${err.message}`);\n      throw err;\n    }\n  }\n}\n\nexport default ProductApiService;\n"],"mappings":"0jBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,OAAM,KAAM,QAAQ,CAC3B,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,OAAO,KAAQ,mBAAmB,CAAC,GAItCC,kBAAiB,yBAGrB,4BAAc,8CAFGC,IAAI,QAGnB,IAAI,CAACA,IAAI,CAAGH,SAAS,CACvB,CAAC,2JAED,iBAAwBI,IAAsB,uKAC5CC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAEF,IAAI,CAAC,CAAC,gBAErBG,GAAG,CAAG,WAAW,uBACNT,MAAK,CAACU,IAAI,CAAC,IAAI,CAACL,IAAI,CAAGI,GAAG,CAAEH,IAAI,CAAE,CAC/CK,eAAe,CAAE,IACnB,CAAC,CAAC,QAFFC,MAAM,eAIRX,MAAM,CAACY,EAAE,CAACD,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEN,IAAI,CAAEH,OAAO,CAACW,YAAY,CAAC,CAC7Cb,MAAM,CAACY,EAAE,CAAC,CAAAD,MAAM,SAANA,MAAM,+BAANA,MAAM,CAAEN,IAAI,uCAAZ,aAAcS,KAAK,GAAI,MAAM,CAAEH,MAAM,SAANA,MAAM,gCAANA,MAAM,CAAEN,IAAI,wCAAZ,cAAcU,OAAO,CAAC,CAC/DT,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEI,MAAM,CAACN,IAAI,CAACS,KAAK,CAAC,CAClCE,QAAmB,CAAGL,MAAM,CAACN,IAAI,CAACA,IAAI,iCACrCW,QAAQ,4DAEfV,OAAO,CAACC,GAAG,sCAA+B,YAAIQ,OAAO,EAAG,CAAC,uFAG5D,0OAED,kBAAuBE,UAAkB,4LAE/BT,GAAG,qBAAgBS,UAAU,yBAClBlB,MAAK,CAACmB,GAAG,CAAC,IAAI,CAACd,IAAI,CAAGI,GAAG,CAAE,CACxCE,eAAe,CAAE,IACnB,CAAC,CAAC,QAFFC,MAAM,gBAGRX,MAAM,CAACY,EAAE,CAACD,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEN,IAAI,CAAEH,OAAO,CAACW,YAAY,CAAC,CAC7Cb,MAAM,CAACY,EAAE,CAAC,CAAAD,MAAM,SAANA,MAAM,gCAANA,MAAM,CAAEN,IAAI,wCAAZ,cAAcS,KAAK,GAAI,MAAM,CAAEH,MAAM,SAANA,MAAM,gCAANA,MAAM,CAAEN,IAAI,wCAAZ,cAAcU,OAAO,CAAC,CAC/DT,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEI,MAAM,CAACN,IAAI,CAACS,KAAK,CAAC,CAExCR,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEI,MAAM,CAACN,IAAI,CAACA,IAAI,CAAC,CACjCc,OAAgB,CAAGR,MAAM,CAACN,IAAI,CAACA,IAAI,kCAClCc,OAAO,+DAEdb,OAAO,CAACC,GAAG,qCAA8B,aAAIQ,OAAO,EAAG,CAAC,0FAG3D,8IAGH,cAAeZ,kBAAiB"},"metadata":{},"sourceType":"module"}