{"ast":null,"code":"import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy(_ref) {\n  var swiper = _ref.swiper,\n    extendParams = _ref.extendParams,\n    on = _ref.on,\n    emit = _ref.emit;\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  var scrollHandlerAttached = false;\n  var initialImageLoaded = false;\n  function loadInSlide(index) {\n    var loadInDuplicate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var $slideEl = isVirtual ? swiper.$wrapperEl.children(\".\".concat(swiper.params.slideClass, \"[data-swiper-slide-index=\\\"\").concat(index, \"\\\"]\")) : swiper.slides.eq(index);\n    var $images = $slideEl.find(\".\".concat(params.elementClass, \":not(.\").concat(params.loadedClass, \"):not(.\").concat(params.loadingClass, \")\"));\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n    if ($images.length === 0) return;\n    $images.each(function (imageEl) {\n      var $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      var background = $imageEl.attr('data-background');\n      var src = $imageEl.attr('data-src');\n      var srcset = $imageEl.attr('data-srcset');\n      var sizes = $imageEl.attr('data-sizes');\n      var $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, function () {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n        if (background) {\n          $imageEl.css('background-image', \"url(\\\"\".concat(background, \"\\\")\"));\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(function (sourceEl) {\n              var $source = $(sourceEl);\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(\".\".concat(params.preloaderClass)).remove();\n        if (swiper.params.loop && loadInDuplicate) {\n          var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            var originalSlide = swiper.$wrapperEl.children(\"[data-swiper-slide-index=\\\"\".concat(slideOriginalIndex, \"\\\"]:not(.\").concat(swiper.params.slideDuplicateClass, \")\"));\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            var duplicatedSlide = swiper.$wrapperEl.children(\".\".concat(swiper.params.slideDuplicateClass, \"[data-swiper-slide-index=\\\"\").concat(slideOriginalIndex, \"\\\"]\"));\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n  function load() {\n    var $wrapperEl = swiper.$wrapperEl,\n      swiperParams = swiper.params,\n      slides = swiper.slides,\n      activeIndex = swiper.activeIndex;\n    var isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    var params = swiperParams.lazy;\n    var slidesPerView = swiperParams.slidesPerView;\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(\".\".concat(swiperParams.slideClass, \"[data-swiper-slide-index=\\\"\").concat(index, \"\\\"]\")).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n      return false;\n    }\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n      return $(slideEl).index();\n    }\n    if (!initialImageLoaded) initialImageLoaded = true;\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(\".\".concat(swiperParams.slideVisibleClass)).each(function (slideEl) {\n        var index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        var amount = params.loadPrevNextAmount;\n        var spv = slidesPerView;\n        var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (var _i = activeIndex + slidesPerView; _i < maxIndex; _i += 1) {\n          if (slideExist(_i)) loadInSlide(_i);\n        } // Prev Slides\n\n        for (var _i2 = minIndex; _i2 < activeIndex; _i2 += 1) {\n          if (slideExist(_i2)) loadInSlide(_i2);\n        }\n      } else {\n        var nextSlide = $wrapperEl.children(\".\".concat(swiperParams.slideNextClass));\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        var prevSlide = $wrapperEl.children(\".\".concat(swiperParams.slidePrevClass));\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n  function checkInViewOnLoad() {\n    var window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    var $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    var isWindow = $scrollElement[0] === window;\n    var scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    var scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    var swiperOffset = swiper.$el.offset();\n    var rtl = swiper.rtlTranslate;\n    var inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n    for (var i = 0; i < swiperCoord.length; i += 1) {\n      var point = swiperCoord[i];\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n  on('beforeInit', function () {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', function () {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', function () {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', function () {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', function () {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', function () {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', function () {\n    var _swiper$params = swiper.params,\n      lazy = _swiper$params.lazy,\n      cssMode = _swiper$params.cssMode,\n      watchSlidesProgress = _swiper$params.watchSlidesProgress,\n      touchReleaseOnEdges = _swiper$params.touchReleaseOnEdges,\n      resistanceRatio = _swiper$params.resistanceRatio;\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  Object.assign(swiper.lazy, {\n    load: load,\n    loadInSlide: loadInSlide\n  });\n}","map":{"version":3,"names":["getWindow","$","Lazy","swiper","extendParams","on","emit","lazy","checkInView","enabled","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","index","loadInDuplicate","params","slides","length","isVirtual","virtual","$slideEl","$wrapperEl","children","slideClass","eq","$images","find","hasClass","push","each","imageEl","$imageEl","addClass","background","attr","src","srcset","sizes","$pictureEl","parent","loadImage","destroyed","css","removeAttr","sourceEl","$source","removeClass","remove","loop","slideOriginalIndex","slideDuplicateClass","originalSlide","duplicatedSlide","autoHeight","updateAutoHeight","load","swiperParams","activeIndex","slidesPerView","slideExist","slideIndex","slideEl","watchSlidesProgress","slideVisibleClass","i","amount","spv","maxIndex","Math","min","max","minIndex","nextSlide","slideNextClass","prevSlide","slidePrevClass","checkInViewOnLoad","window","$scrollElement","isWindow","scrollElementWidth","innerWidth","offsetWidth","scrollElementHeight","innerHeight","offsetHeight","swiperOffset","$el","offset","rtl","rtlTranslate","inView","left","scrollLeft","swiperCoord","top","width","height","point","passiveListener","touchEvents","start","support","passiveListeners","passive","capture","off","preloadImages","freeMode","sticky","cssMode","touchReleaseOnEdges","resistanceRatio","Object","assign"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/swiper/modules/lazy/lazy.js"],"sourcesContent":["import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate = true) {\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = slidesPerView;\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + slidesPerView; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}