{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{TopBrands}from\"./topBrands\";import{BestProducts}from\"./bestProducts\";import{Events}from\"./events\";import\"../../../css/home.css\";//REDUX\nimport{useDispatch}from\"react-redux\";import{setBestBrands as _setBestBrands,setTopBrands as _setTopBrands}from\"./slice\";import BrandApiService from\"../../apiServices/brandApiService\";import{Advertisement}from\"./advs\";import{Categories}from\"./categories\";import ClipLoader from\"react-spinners/ClipLoader\";import{Advertisements}from\"./advertisements\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";//** REDUX SLICE */\nvar actionDispatch=function actionDispatch(dispatch){return{setTopBrands:function setTopBrands(data){return dispatch(_setTopBrands(data));},setBestBrands:function setBestBrands(data){return dispatch(_setBestBrands(data));}};};export function HomePage(props){// INITIALIZATIONS\nvar _actionDispatch=actionDispatch(useDispatch()),setTopBrands=_actionDispatch.setTopBrands,setBestBrands=_actionDispatch.setBestBrands;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var toggleChat=function toggleChat(){setOpen(!open);};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var brandService;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);brandService=new BrandApiService();_context.next=5;return brandService.getTopBrands().then(function(data){setTopBrands(data);}).catch(function(err){return console.log(err);});case 5:_context.next=7;return brandService.getBrands({page:1,limit:4,order:\"mb_point\"}).then(function(data){setBestBrands(data);}).catch(function(err){return console.log(err);});case 7:setLoading(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(\"Error fetching data\",_context.t0);setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return loading?/*#__PURE__*/_jsx(\"div\",{className:\"loader_wrapper\",children:/*#__PURE__*/_jsx(ClipLoader,{color:\"#00BFFF\",loading:loading,size:100,\"aria-label\":\"Loading Spinner\",\"data-testid\":\"loader\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsx(Advertisements,{}),/*#__PURE__*/_jsx(Categories,{}),/*#__PURE__*/_jsx(Advertisement,{}),/*#__PURE__*/_jsx(Events,{}),/*#__PURE__*/_jsx(BestProducts,{}),/*#__PURE__*/_jsx(TopBrands,{})]});}// <div className=\"chat-button-container\">\n//   {/* <img src=\"/icons/chat.webp\" style={{ height: \"100%\" }} /> */}\n//   <Button className=\"chat-button\" onClick={toggleChat}>\n//     <Chat sx={{mr: \"15px\"}} />\n//     Chat\n//   </Button>\n//   {open && (\n//     <div className=\"chat-popup\">\n//       {/* Your chat content goes here */}\n//       <div className=\"chat-content\">\n//         <CommunityChats />\n//       </div>\n//     </div>\n//   )}\n// </div>","map":{"version":3,"names":["React","useEffect","useState","TopBrands","BestProducts","Events","useDispatch","setBestBrands","setTopBrands","BrandApiService","Advertisement","Categories","ClipLoader","Advertisements","actionDispatch","dispatch","data","HomePage","props","loading","setLoading","open","setOpen","toggleChat","fetchData","brandService","getTopBrands","then","catch","err","console","log","getBrands","page","limit","order"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/src/app/screens/Homepage/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { TopBrands } from \"./topBrands\";\nimport { BestProducts } from \"./bestProducts\";\nimport { Events } from \"./events\";\nimport \"../../../css/home.css\";\n\n//REDUX\nimport { useDispatch } from \"react-redux\";\nimport { Dispatch } from \"@reduxjs/toolkit\";\nimport { setBestBrands, setTopBrands } from \"./slice\";\nimport { Brand } from \"../../../types/user\";\nimport BrandApiService from \"../../apiServices/brandApiService\";\nimport { Advertisement } from \"./advs\";\nimport { Categories } from \"./categories\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { Advertisements } from \"./advertisements\";\nimport { CommunityChats } from \"../CommunityPage/communityChats\";\nimport { Chat } from \"@mui/icons-material\";\nimport { Button } from \"@material-ui/core\";\n\n//** REDUX SLICE */\nconst actionDispatch = (dispatch: Dispatch) => ({\n  setTopBrands: (data: Brand[]) => dispatch(setTopBrands(data)),\n  setBestBrands: (data: Brand[]) => dispatch(setBestBrands(data)),\n});\n\nexport function HomePage(props: any) {\n  // INITIALIZATIONS\n  const { setTopBrands, setBestBrands } = actionDispatch(useDispatch());\n\n  const [loading, setLoading] = useState(true);\n  const [open, setOpen] = useState(false);\n\n  const toggleChat = () => {\n    setOpen(!open);\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const brandService = new BrandApiService();\n        await brandService\n          .getTopBrands()\n          .then((data) => {\n            setTopBrands(data);\n          })\n          .catch((err) => console.log(err));\n\n        await brandService\n          .getBrands({ page: 1, limit: 4, order: \"mb_point\" })\n          .then((data) => {\n            setBestBrands(data);\n          })\n          .catch((err) => console.log(err));\n        setLoading(false);\n      } catch (err) {\n        console.log(\"Error fetching data\", err);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  return loading ? (\n    <div className={\"loader_wrapper\"}>\n      <ClipLoader\n        color={\"#00BFFF\"}\n        loading={loading}\n        size={100}\n        aria-label=\"Loading Spinner\"\n        data-testid=\"loader\"\n      />\n    </div>\n  ) : (\n    <div className=\"homepage\">\n      <Advertisements />\n      <Categories />\n      <Advertisement />\n      <Events />\n      <BestProducts />\n      <TopBrands />\n\n      {/* <Recommendations /> */}\n    </div>\n  );\n}\n\n// <div className=\"chat-button-container\">\n//   {/* <img src=\"/icons/chat.webp\" style={{ height: \"100%\" }} /> */}\n//   <Button className=\"chat-button\" onClick={toggleChat}>\n//     <Chat sx={{mr: \"15px\"}} />\n//     Chat\n//   </Button>\n\n//   {open && (\n//     <div className=\"chat-popup\">\n//       {/* Your chat content goes here */}\n//       <div className=\"chat-content\">\n//         <CommunityChats />\n//       </div>\n//     </div>\n//   )}\n// </div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}