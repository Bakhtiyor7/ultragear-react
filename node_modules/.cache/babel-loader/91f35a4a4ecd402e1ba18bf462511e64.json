{"ast":null,"code":"import{Box,Container,Stack}from\"@mui/material\";import React,{useEffect}from\"react\";import{Swiper,SwiperSlide}from\"swiper/react\";//REDUX\nimport{useDispatch,useSelector}from\"react-redux\";import{createSelector}from\"reselect\";import{setTrendProducts as _setTrendProducts}from\"./slice\";import ProductApiService from\"../../apiServices/productApiService\";import{retrieveTrendProducts}from\"./selector\";import{serverApi}from\"../../../lib/config\";import{useHistory}from\"react-router-dom\";//** REDUX SLICE */\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var actionDispatch=function actionDispatch(dispatch){return{setTrendProducts:function setTrendProducts(data){return dispatch(_setTrendProducts(data));}};};//** REDUX SELECTOR */\nvar trendProductsRetriever=createSelector(retrieveTrendProducts,function(trendProducts){return{trendProducts:trendProducts};});export function BestProducts(){// INITIALIZATIONS\nvar history=useHistory();var _actionDispatch=actionDispatch(useDispatch()),setTrendProducts=_actionDispatch.setTrendProducts;var _useSelector=useSelector(trendProductsRetriever),trendProducts=_useSelector.trendProducts;useEffect(function(){var productService=new ProductApiService();productService.getTargetProducts({order:\"product_likes\",page:1,limit:10}).then(function(data){setTrendProducts(data);}).catch(function(err){return console.log(err);});},[]);// HANDLERS\nvar chosenProductHandler=function chosenProductHandler(id){history.push(\"/brand/products/\".concat(id));};return/*#__PURE__*/_jsx(\"div\",{className:\"top_products_frame\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Stack,{flexDirection:\"column\",children:[/*#__PURE__*/_jsxs(Box,{className:\"category_title\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bestsellers of the month\"}),/*#__PURE__*/_jsxs(Box,{className:\"arrow_box\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/home/arr_left.svg\",className:\"swiper-button-prev-top\",style:{cursor:\"pointer\"},alt:\"arrow_image\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/home/arr_right.svg\",className:\"swiper-button-next-top\",style:{cursor:\"pointer\"},alt:\"arrow_image\"})]})]}),/*#__PURE__*/_jsx(Swiper,{className:\"events_info swiper-wrapper\",slidesPerView:4,spaceBetween:30,navigation:{nextEl:\".swiper-button-next-top\",prevEl:\".swiper-button-prev-top\"},pagination:{el:\".swiper-pagination\",clickable:true},autoplay:{delay:4000,disableOnInteraction:true},children:trendProducts.map(function(product){var image_path=\"\".concat(serverApi,\"/\").concat(product.product_images[0]);return/*#__PURE__*/_jsx(SwiperSlide,{className:\"swiper_box\",children:/*#__PURE__*/_jsxs(Box,{className:\"product_box\",children:[/*#__PURE__*/_jsx(Stack,{className:\"product_img\",children:/*#__PURE__*/_jsx(Box,{className:\"product_img_holder\",sx:{cursor:\"pointer\"},onClick:function onClick(){return chosenProductHandler(product._id);},children:/*#__PURE__*/_jsx(\"img\",{src:image_path,alt:\"product image\"})})}),/*#__PURE__*/_jsxs(Stack,{className:\"product_desc\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"flex-start\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"product_title_text\",children:product.product_name}),/*#__PURE__*/_jsxs(\"span\",{className:\"product_price\",children:[\"$\",product.product_price]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"product_collection\",children:product.product_collection}),/*#__PURE__*/_jsx(\"span\",{className:\"product_description\",children:product.product_description})]})]})});})})]})})});}","map":{"version":3,"names":["Box","Container","Stack","React","useEffect","Swiper","SwiperSlide","useDispatch","useSelector","createSelector","setTrendProducts","ProductApiService","retrieveTrendProducts","serverApi","useHistory","actionDispatch","dispatch","data","trendProductsRetriever","trendProducts","BestProducts","history","productService","getTargetProducts","order","page","limit","then","catch","err","console","log","chosenProductHandler","id","push","cursor","nextEl","prevEl","el","clickable","delay","disableOnInteraction","map","product","image_path","product_images","_id","display","justifyContent","alignItems","width","product_name","product_price","product_collection","product_description"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/src/app/screens/Homepage/bestProducts.tsx"],"sourcesContent":["import { Box, Container, Stack } from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n//REDUX\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Dispatch } from \"@reduxjs/toolkit\";\nimport { createSelector } from \"reselect\";\nimport { setTrendProducts } from \"./slice\";\nimport { Product } from \"../../../types/product\";\nimport ProductApiService from \"../../apiServices/productApiService\";\nimport { retrieveTrendProducts } from \"./selector\";\nimport { serverApi } from \"../../../lib/config\";\nimport { useHistory } from \"react-router-dom\";\n\n//** REDUX SLICE */\nconst actionDispatch = (dispatch: Dispatch) => ({\n  setTrendProducts: (data: Product[]) => dispatch(setTrendProducts(data)),\n});\n\n//** REDUX SELECTOR */\nconst trendProductsRetriever = createSelector(\n  retrieveTrendProducts,\n  (trendProducts) => ({\n    trendProducts,\n  })\n);\n\nexport function BestProducts() {\n  // INITIALIZATIONS\n  const history = useHistory();\n  const { setTrendProducts } = actionDispatch(useDispatch());\n  const { trendProducts } = useSelector(trendProductsRetriever);\n  useEffect(() => {\n    const productService = new ProductApiService();\n    productService\n      .getTargetProducts({ order: \"product_likes\", page: 1, limit: 10 })\n      .then((data) => {\n        setTrendProducts(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  // HANDLERS\n  const chosenProductHandler = (id: string) => {\n    history.push(`/brand/products/${id}`);\n  };\n  return (\n    <div className=\"top_products_frame\">\n      <Container>\n        <Stack flexDirection={\"column\"}>\n          <Box className=\"category_title\">\n            <h1>Bestsellers of the month</h1>\n            <Box className=\"arrow_box\">\n              <img\n                src={\"/home/arr_left.svg\"}\n                className={\"swiper-button-prev-top\"}\n                style={{ cursor: \"pointer\" }}\n                alt={\"arrow_image\"}\n              />\n              <img\n                src={\"/home/arr_right.svg\"}\n                className={\"swiper-button-next-top\"}\n                style={{ cursor: \"pointer\" }}\n                alt={\"arrow_image\"}\n              />\n            </Box>\n          </Box>\n          <Swiper\n            className={\"events_info swiper-wrapper\"}\n            slidesPerView={4}\n            spaceBetween={30}\n            navigation={{\n              nextEl: \".swiper-button-next-top\",\n              prevEl: \".swiper-button-prev-top\",\n            }}\n            pagination={{\n              el: \".swiper-pagination\",\n              clickable: true,\n            }}\n            autoplay={{ delay: 4000, disableOnInteraction: true }}\n          >\n            {trendProducts.map((product: Product) => {\n              const image_path = `${serverApi}/${product.product_images[0]}`;\n              return (\n                <SwiperSlide className=\"swiper_box\">\n                  <Box className=\"product_box\">\n                    <Stack className=\"product_img\">\n                      <Box\n                        className=\"product_img_holder\"\n                        sx={{\n                          cursor: \"pointer\",\n                        }}\n                        onClick={() => chosenProductHandler(product._id)}\n                      >\n                        <img src={image_path} alt={\"product image\"}/>\n                      </Box>\n                    </Stack>\n\n                    <Stack className={\"product_desc\"}>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          justifyContent: \"space-between\",\n                          alignItems: \"flex-start\",\n                          width: \"100%\",\n                        }}\n                      >\n                        <span className={\"product_title_text\"}>\n                          {product.product_name}\n                        </span>\n                        <span className={\"product_price\"}>\n                          ${product.product_price}\n                        </span>\n                      </div>\n                      <span className=\"product_collection\">\n                        {product.product_collection}\n                      </span>\n                      <span className=\"product_description\">\n                        {product.product_description}\n                      </span>\n                    </Stack>\n                  </Box>\n                </SwiperSlide>\n              );\n            })}\n          </Swiper>\n        </Stack>\n      </Container>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}