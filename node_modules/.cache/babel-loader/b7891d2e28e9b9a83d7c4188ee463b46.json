{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{Box,Stack}from\"@mui/material\";import moment from\"moment\";import Checkbox from\"@mui/material/Checkbox\";import FavoriteBorder from\"@mui/icons-material/FavoriteBorder\";import Favorite from\"@mui/icons-material/Favorite\";import RemoveRedEyeIcon from\"@mui/icons-material/RemoveRedEye\";import{serverApi}from\"../../../lib/config\";import assert from\"assert\";import{Definer}from\"../../../lib/Definer\";import MemberApiService from\"../../apiServices/memberApiService\";import{sweetErrorHandling,sweetTopSmallSuccessAlert}from\"../../../lib/sweetAlert\";import{verifiedMemberData}from\"../../apiServices/verify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function MemberPosts(props){var chosenMemberBoArticles=props.chosenMemberBoArticles,renderChosenArticleHandler=props.renderChosenArticleHandler,setArticleRebuild=props.setArticleRebuild;/** HANDLERS */var targetLikeHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var memberService,like_result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;e.stopPropagation();assert.ok(verifiedMemberData,Definer.auth_err1);memberService=new MemberApiService();_context.next=6;return memberService.memberLikeTarget({like_ref_id:e.target.id,group_type:\"community\"});case 6:like_result=_context.sent;assert.ok(like_result,Definer.general_err1);_context.next=10;return sweetTopSmallSuccessAlert(\"success\",700,false);case 10:setArticleRebuild(new Date());_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(_context.t0);sweetErrorHandling(_context.t0).then();case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function targetLikeHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Box,{className:\"post_content\",children:chosenMemberBoArticles.map(function(article){var _article$member_data,_article$member_data2,_article$me_liked$;var image_path=article.art_image?\"\".concat(serverApi,\"/\").concat(article.art_image):\"/community/default_article.png\";return/*#__PURE__*/_jsxs(Stack,{className:\"all_article_box\",sx:{cursor:\"pointer\"},onClick:function onClick(){return renderChosenArticleHandler(article===null||article===void 0?void 0:article._id);},children:[/*#__PURE__*/_jsx(Box,{className:\"all_article_img\",sx:{backgroundImage:\"url(\".concat(image_path,\")\")}}),/*#__PURE__*/_jsxs(Box,{className:\"all_article_container\",children:[/*#__PURE__*/_jsxs(Box,{alignItems:\"center\",display:\"flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:article!==null&&article!==void 0&&(_article$member_data=article.member_data)!==null&&_article$member_data!==void 0&&_article$member_data.mb_image?\"\".concat(serverApi,\"/\").concat(article.member_data.mb_image):\"/auth/default_user.svg\",width:\"35px\",height:\"35px\",style:{borderRadius:\"50%\",backgroundSize:\"cover\"}}),/*#__PURE__*/_jsx(\"span\",{className:\"all_article_author_user\",children:article===null||article===void 0?void 0:(_article$member_data2=article.member_data)===null||_article$member_data2===void 0?void 0:_article$member_data2.mb_nick})]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",sx:{mt:\"15px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"all_article_title\",children:article===null||article===void 0?void 0:article.bo_id}),/*#__PURE__*/_jsx(\"p\",{className:\"all_article_desc\",children:article===null||article===void 0?void 0:article.art_subject})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Box,{className:\"article_share\",style:{width:\"100%\",height:\"auto\"},sx:{mb:\"10px\"},children:/*#__PURE__*/_jsxs(Box,{className:\"article_share_main\",style:{color:\"#fff\",marginLeft:\"150px\",display:\"flex\",alignItems:\"center\",marginRight:\"50px\"},children:[/*#__PURE__*/_jsx(\"span\",{children:moment(article===null||article===void 0?void 0:article.createdAt).fromNow()}),/*#__PURE__*/_jsx(Checkbox,{sx:{ml:\"40px\"},icon:/*#__PURE__*/_jsx(FavoriteBorder,{}),id:article===null||article===void 0?void 0:article._id,checkedIcon:/*#__PURE__*/_jsx(Favorite,{style:{color:\"red\"}}),checked:article!==null&&article!==void 0&&article.me_liked&&(_article$me_liked$=article.me_liked[0])!==null&&_article$me_liked$!==void 0&&_article$me_liked$.my_favorite?true:false,onClick:targetLikeHandler}),/*#__PURE__*/_jsx(\"span\",{style:{marginRight:\"18px\"},children:article===null||article===void 0?void 0:article.art_likes}),/*#__PURE__*/_jsx(RemoveRedEyeIcon,{}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"18px\"},children:article===null||article===void 0?void 0:article.art_views})]})})})]})]});})});}function setArticleRebuild(arg0){throw new Error(\"Function not implemented.\");}","map":{"version":3,"names":["React","Box","Stack","moment","Checkbox","FavoriteBorder","Favorite","RemoveRedEyeIcon","serverApi","assert","Definer","MemberApiService","sweetErrorHandling","sweetTopSmallSuccessAlert","verifiedMemberData","MemberPosts","props","chosenMemberBoArticles","renderChosenArticleHandler","setArticleRebuild","targetLikeHandler","e","stopPropagation","ok","auth_err1","memberService","memberLikeTarget","like_ref_id","target","id","group_type","like_result","general_err1","Date","console","log","then","map","article","image_path","art_image","cursor","_id","backgroundImage","member_data","mb_image","borderRadius","backgroundSize","mb_nick","mt","bo_id","art_subject","width","height","mb","color","marginLeft","display","alignItems","marginRight","createdAt","fromNow","ml","me_liked","my_favorite","art_likes","art_views","arg0","Error"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/src/app/screens/MemberPage/memberPosts.tsx"],"sourcesContent":["import React, { ChangeEvent, useRef, useState } from \"react\";\nimport { Box, Button, Container, Link, Stack } from \"@mui/material\";\nimport moment from \"moment\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport FavoriteBorder from \"@mui/icons-material/FavoriteBorder\";\nimport Favorite from \"@mui/icons-material/Favorite\";\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\";\nimport { BoArticle } from \"../../../types/boArticle\";\nimport { serverApi } from \"../../../lib/config\";\nimport assert from \"assert\";\nimport { Definer } from \"../../../lib/Definer\";\nimport MemberApiService from \"../../apiServices/memberApiService\";\nimport {\n  sweetErrorHandling,\n  sweetTopSmallSuccessAlert,\n} from \"../../../lib/sweetAlert\";\nimport { verifiedMemberData } from \"../../apiServices/verify\";\n\nexport function MemberPosts(props: any) {\n  const {\n    chosenMemberBoArticles,\n    renderChosenArticleHandler,\n    setArticleRebuild,\n  } = props;\n\n  /** HANDLERS */\n  const targetLikeHandler = async (e: any) => {\n    try {\n      e.stopPropagation();\n      assert.ok(verifiedMemberData, Definer.auth_err1);\n\n      const memberService = new MemberApiService();\n      const like_result = await memberService.memberLikeTarget({\n        like_ref_id: e.target.id,\n        group_type: \"community\",\n      });\n      assert.ok(like_result, Definer.general_err1);\n\n      await sweetTopSmallSuccessAlert(\"success\", 700, false);\n      setArticleRebuild(new Date());\n    } catch (err: any) {\n      console.log(err);\n      sweetErrorHandling(err).then();\n    }\n  };\n\n  return (\n    <Box className={\"post_content\"}>\n      {chosenMemberBoArticles.map((article: BoArticle) => {\n        const image_path = article.art_image\n          ? `${serverApi}/${article.art_image}`\n          : \"/community/default_article.png\";\n        return (\n          <Stack\n            className={\"all_article_box\"}\n            sx={{ cursor: \"pointer\" }}\n            onClick={() => renderChosenArticleHandler(article?._id)}\n          >\n            <Box\n              className={\"all_article_img\"}\n              sx={{\n                backgroundImage: `url(${image_path})`,\n              }}\n            ></Box>\n            <Box className={\"all_article_container\"}>\n              <Box alignItems={\"center\"} display={\"flex\"}>\n                <img\n                  src={\n                    article?.member_data?.mb_image\n                      ? `${serverApi}/${article.member_data.mb_image}`\n                      : \"/auth/default_user.svg\"\n                  }\n                  width={\"35px\"}\n                  height={\"35px\"}\n                  style={{ borderRadius: \"50%\", backgroundSize: \"cover\" }}\n                />\n                <span className={\"all_article_author_user\"}>\n                  {article?.member_data?.mb_nick}\n                </span>\n              </Box>\n              <Box\n                display={\"flex\"}\n                flexDirection={\"column\"}\n                sx={{ mt: \"15px\" }}\n              >\n                <span className={\"all_article_title\"}>{article?.bo_id}</span>\n                <p className={\"all_article_desc\"}>{article?.art_subject}</p>\n              </Box>\n              <Box>\n                <Box\n                  className={\"article_share\"}\n                  style={{ width: \"100%\", height: \"auto\" }}\n                  sx={{ mb: \"10px\" }}\n                >\n                  <Box\n                    className={\"article_share_main\"}\n                    style={{\n                      color: \"#fff\",\n                      marginLeft: \"150px\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      marginRight: \"50px\",\n                    }}\n                  >\n                    <span>{moment(article?.createdAt).fromNow()}</span>\n                    <Checkbox\n                      sx={{ ml: \"40px\" }}\n                      icon={<FavoriteBorder />}\n                      id={article?._id}\n                      checkedIcon={<Favorite style={{ color: \"red\" }} />}\n                      checked={\n                        article?.me_liked && article.me_liked[0]?.my_favorite\n                          ? true\n                          : false\n                      }\n                      onClick={targetLikeHandler}\n                    />\n\n                    <span style={{ marginRight: \"18px\" }}>\n                      {article?.art_likes}\n                    </span>\n\n                    <RemoveRedEyeIcon />\n                    <span style={{ marginLeft: \"18px\" }}>\n                      {article?.art_views}\n                    </span>\n                  </Box>\n                </Box>\n              </Box>\n            </Box>\n          </Stack>\n        );\n      })}\n    </Box>\n  );\n}\nfunction setArticleRebuild(arg0: Date) {\n  throw new Error(\"Function not implemented.\");\n}\n"],"mappings":"sSAAA,MAAOA,MAAK,KAAyC,OAAO,CAC5D,OAASC,GAAG,CAA2BC,KAAK,KAAQ,eAAe,CACnE,MAAOC,OAAM,KAAM,QAAQ,CAC3B,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,MAAOC,eAAc,KAAM,oCAAoC,CAC/D,MAAOC,SAAQ,KAAM,8BAA8B,CACnD,MAAOC,iBAAgB,KAAM,kCAAkC,CAE/D,OAASC,SAAS,KAAQ,qBAAqB,CAC/C,MAAOC,OAAM,KAAM,QAAQ,CAC3B,OAASC,OAAO,KAAQ,sBAAsB,CAC9C,MAAOC,iBAAgB,KAAM,oCAAoC,CACjE,OACEC,kBAAkB,CAClBC,yBAAyB,KACpB,yBAAyB,CAChC,OAASC,kBAAkB,KAAQ,0BAA0B,CAAC,wFAE9D,MAAO,SAASC,YAAW,CAACC,KAAU,CAAE,CACtC,GACEC,uBAAsB,CAGpBD,KAAK,CAHPC,sBAAsB,CACtBC,0BAA0B,CAExBF,KAAK,CAFPE,0BAA0B,CAC1BC,iBAAiB,CACfH,KAAK,CADPG,iBAAiB,CAGnB,eACA,GAAMC,kBAAiB,4FAAG,iBAAOC,CAAM,kKAEnCA,CAAC,CAACC,eAAe,EAAE,CACnBb,MAAM,CAACc,EAAE,CAACT,kBAAkB,CAAEJ,OAAO,CAACc,SAAS,CAAC,CAE1CC,aAAa,CAAG,GAAId,iBAAgB,EAAE,uBAClBc,cAAa,CAACC,gBAAgB,CAAC,CACvDC,WAAW,CAAEN,CAAC,CAACO,MAAM,CAACC,EAAE,CACxBC,UAAU,CAAE,WACd,CAAC,CAAC,QAHIC,WAAW,eAIjBtB,MAAM,CAACc,EAAE,CAACQ,WAAW,CAAErB,OAAO,CAACsB,YAAY,CAAC,CAAC,uBAEvCnB,0BAAyB,CAAC,SAAS,CAAE,GAAG,CAAE,KAAK,CAAC,SACtDM,iBAAiB,CAAC,GAAIc,KAAI,EAAE,CAAC,CAAC,iFAE9BC,OAAO,CAACC,GAAG,aAAK,CAChBvB,kBAAkB,aAAK,CAACwB,IAAI,EAAE,CAAC,qEAElC,kBAlBKhB,kBAAiB,4CAkBtB,CAED,mBACE,KAAC,GAAG,EAAC,SAAS,CAAE,cAAe,UAC5BH,sBAAsB,CAACoB,GAAG,CAAC,SAACC,OAAkB,CAAK,mEAClD,GAAMC,WAAU,CAAGD,OAAO,CAACE,SAAS,WAC7BhC,SAAS,aAAI8B,OAAO,CAACE,SAAS,EACjC,gCAAgC,CACpC,mBACE,MAAC,KAAK,EACJ,SAAS,CAAE,iBAAkB,CAC7B,EAAE,CAAE,CAAEC,MAAM,CAAE,SAAU,CAAE,CAC1B,OAAO,CAAE,yBAAMvB,2BAA0B,CAACoB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEI,GAAG,CAAC,EAAC,wBAExD,KAAC,GAAG,EACF,SAAS,CAAE,iBAAkB,CAC7B,EAAE,CAAE,CACFC,eAAe,eAASJ,UAAU,KACpC,CAAE,EACG,cACP,MAAC,GAAG,EAAC,SAAS,CAAE,uBAAwB,wBACtC,MAAC,GAAG,EAAC,UAAU,CAAE,QAAS,CAAC,OAAO,CAAE,MAAO,wBACzC,YACE,GAAG,CACDD,OAAO,SAAPA,OAAO,iCAAPA,OAAO,CAAEM,WAAW,yCAApB,qBAAsBC,QAAQ,WACvBrC,SAAS,aAAI8B,OAAO,CAACM,WAAW,CAACC,QAAQ,EAC5C,wBACL,CACD,KAAK,CAAE,MAAO,CACd,MAAM,CAAE,MAAO,CACf,KAAK,CAAE,CAAEC,YAAY,CAAE,KAAK,CAAEC,cAAc,CAAE,OAAQ,CAAE,EACxD,cACF,aAAM,SAAS,CAAE,yBAA0B,UACxCT,OAAO,SAAPA,OAAO,wCAAPA,OAAO,CAAEM,WAAW,gDAApB,sBAAsBI,OAAO,EACzB,GACH,cACN,MAAC,GAAG,EACF,OAAO,CAAE,MAAO,CAChB,aAAa,CAAE,QAAS,CACxB,EAAE,CAAE,CAAEC,EAAE,CAAE,MAAO,CAAE,wBAEnB,aAAM,SAAS,CAAE,mBAAoB,UAAEX,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEY,KAAK,EAAQ,cAC7D,UAAG,SAAS,CAAE,kBAAmB,UAAEZ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEa,WAAW,EAAK,GACxD,cACN,KAAC,GAAG,wBACF,KAAC,GAAG,EACF,SAAS,CAAE,eAAgB,CAC3B,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CACzC,EAAE,CAAE,CAAEC,EAAE,CAAE,MAAO,CAAE,uBAEnB,MAAC,GAAG,EACF,SAAS,CAAE,oBAAqB,CAChC,KAAK,CAAE,CACLC,KAAK,CAAE,MAAM,CACbC,UAAU,CAAE,OAAO,CACnBC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,WAAW,CAAE,MACf,CAAE,wBAEF,sBAAOxD,MAAM,CAACmC,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEsB,SAAS,CAAC,CAACC,OAAO,EAAE,EAAQ,cACnD,KAAC,QAAQ,EACP,EAAE,CAAE,CAAEC,EAAE,CAAE,MAAO,CAAE,CACnB,IAAI,cAAE,KAAC,cAAc,IAAI,CACzB,EAAE,CAAExB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEI,GAAI,CACjB,WAAW,cAAE,KAAC,QAAQ,EAAC,KAAK,CAAE,CAAEa,KAAK,CAAE,KAAM,CAAE,EAAI,CACnD,OAAO,CACLjB,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEyB,QAAQ,sBAAIzB,OAAO,CAACyB,QAAQ,CAAC,CAAC,CAAC,uCAAnB,mBAAqBC,WAAW,CACjD,IAAI,CACJ,KACL,CACD,OAAO,CAAE5C,iBAAkB,EAC3B,cAEF,aAAM,KAAK,CAAE,CAAEuC,WAAW,CAAE,MAAO,CAAE,UAClCrB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE2B,SAAS,EACd,cAEP,KAAC,gBAAgB,IAAG,cACpB,aAAM,KAAK,CAAE,CAAET,UAAU,CAAE,MAAO,CAAE,UACjClB,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE4B,SAAS,EACd,GACH,EACF,EACF,GACF,GACA,CAEZ,CAAC,CAAC,EACE,CAEV,CACA,QAAS/C,kBAAiB,CAACgD,IAAU,CAAE,CACrC,KAAM,IAAIC,MAAK,CAAC,2BAA2B,CAAC,CAC9C"},"metadata":{},"sourceType":"module"}