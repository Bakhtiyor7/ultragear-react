{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Box,Container,Stack}from\"@mui/material\";import React,{useRef}from\"react\";// OTHERS\nimport{serverApi}from\"../../../lib/config\";import assert from\"assert\";import{Definer}from\"../../../lib/Definer\";import{sweetErrorHandling,sweetTopSmallSuccessAlert}from\"../../../lib/sweetAlert\";import MemberApiService from\"../../apiServices/memberApiService\";import{useHistory}from\"react-router-dom\";//REDUX\nimport{useSelector}from\"react-redux\";import{createSelector}from\"reselect\";import{retrieveTopBrands}from\"./selector\";import{verifiedMemberData}from\"../../apiServices/verify\";//** REDUX SELECTOR */\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var topBrandsRetriever=createSelector(retrieveTopBrands,function(topBrands){return{topBrands:topBrands};});export function TopBrands(){/** INITIALIZATIONS */var history=useHistory();var _useSelector=useSelector(topBrandsRetriever),topBrands=_useSelector.topBrands;console.log(\"topBrands:\",topBrands);var refs=useRef([]);/** HANDLERS */var chosenBrandHandler=function chosenBrandHandler(id){history.push(\"/brand/\".concat(id));};var targetLikeTop=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e,id){var memberService,like_result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;assert.ok(verifiedMemberData,Definer.auth_err1);memberService=new MemberApiService();_context.next=5;return memberService.memberLikeTarget({like_ref_id:id,group_type:\"member\"});case 5:like_result=_context.sent;assert.ok(like_result,Definer.general_err1);if(like_result.like_status>0){e.target.style.fill=\"red\";refs.current[like_result.like_ref_id].innerHTML++;}else{e.target.style.fill=\"white\";refs.current[like_result.like_ref_id].innerHTML--;}_context.next=10;return sweetTopSmallSuccessAlert(\"success\",700,false);case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(\"targetLikeTop, ERROR:\",_context.t0);sweetErrorHandling(_context.t0).then();case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function targetLikeTop(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"top_brand_frame\",children:/*#__PURE__*/_jsx(Container,{sx:{mb:\"45px\"},children:/*#__PURE__*/_jsxs(Stack,{flexDirection:\"column\",alignItems:\"center\",sx:{mt:\"45px\"},gap:\"16px\",children:[/*#__PURE__*/_jsx(Box,{className:\"top_brands_title\",children:\"Featured Top Brands\"}),/*#__PURE__*/_jsx(Stack,{className:\"brands_frame\",children:topBrands[0]&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{className:\"brands_left\",onClick:function onClick(){return chosenBrandHandler(topBrands[0]._id);},sx:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"215px\",height:\"200px\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(serverApi,\"/\").concat(topBrands[0].mb_image),alt:topBrands[0].mb_nick})})}),/*#__PURE__*/_jsxs(Stack,{className:\"brands_right\",children:[/*#__PURE__*/_jsxs(Stack,{sx:{display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\",gap:\"30px\"},children:[/*#__PURE__*/_jsx(Box,{className:\"brands_right_top\",onClick:function onClick(){return chosenBrandHandler(topBrands[1]._id);},sx:{cursor:\"pointer\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"215px\",height:\"200px\"},children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(serverApi,\"/\").concat(topBrands[1].mb_image),alt:topBrands[1].mb_nick})]})}),/*#__PURE__*/_jsx(Box,{className:\"brands_right_top\",onClick:function onClick(){return chosenBrandHandler(topBrands[2]._id);},sx:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"215px\",height:\"200px\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(serverApi,\"/\").concat(topBrands[2].mb_image),alt:topBrands[2].mb_nick})})})]}),/*#__PURE__*/_jsx(Box,{className:\"brands_right_bottom\",onClick:function onClick(){return chosenBrandHandler(topBrands[3]._id);},sx:{cursor:\"pointer\"},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"215px\",height:\"200px\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(serverApi,\"/\").concat(topBrands[3].mb_image),alt:topBrands[3].mb_nick})})})]})]})})]})})});}","map":{"version":3,"names":["Box","Container","Stack","React","useRef","serverApi","assert","Definer","sweetErrorHandling","sweetTopSmallSuccessAlert","MemberApiService","useHistory","useSelector","createSelector","retrieveTopBrands","verifiedMemberData","topBrandsRetriever","topBrands","TopBrands","history","console","log","refs","chosenBrandHandler","id","push","targetLikeTop","e","ok","auth_err1","memberService","memberLikeTarget","like_ref_id","group_type","like_result","general_err1","like_status","target","style","fill","current","innerHTML","then","mb","mt","_id","cursor","width","height","mb_image","mb_nick","display","flexDirection","justifyContent","gap"],"sources":["/Users/baxtiyoraxatov/Desktop/Desktop/ultragear-react/src/app/screens/Homepage/topBrands.tsx"],"sourcesContent":["import { Box, Container, Stack } from \"@mui/material\";\nimport React, { useRef } from \"react\";\nimport { CssVarsProvider } from \"@mui/joy/styles\";\nimport { CardOverflow, IconButton } from \"@mui/joy\";\nimport { Favorite, RefreshSharp, Visibility } from \"@mui/icons-material\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport AspectRatio from \"@mui/joy/AspectRatio\";\nimport Card from \"@mui/joy/Card\";\nimport Divider from \"@mui/joy/Divider\";\nimport Typography from \"@mui/joy/Typography\";\n// OTHERS\nimport { serverApi } from \"../../../lib/config\";\nimport assert from \"assert\";\nimport { Definer } from \"../../../lib/Definer\";\nimport {\n  sweetErrorHandling,\n  sweetTopSmallSuccessAlert,\n} from \"../../../lib/sweetAlert\";\nimport MemberApiService from \"../../apiServices/memberApiService\";\nimport { useHistory } from \"react-router-dom\";\n//REDUX\nimport { useSelector } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { retrieveTopBrands } from \"./selector\";\nimport { verifiedMemberData } from \"../../apiServices/verify\";\n\n//** REDUX SELECTOR */\nconst topBrandsRetriever = createSelector(retrieveTopBrands, (topBrands) => ({\n  topBrands,\n}));\n\nexport function TopBrands() {\n  /** INITIALIZATIONS */\n  const history = useHistory();\n  const { topBrands } = useSelector(topBrandsRetriever);\n  console.log(\"topBrands:\", topBrands);\n  const refs: any = useRef([]);\n\n  /** HANDLERS */\n  const chosenBrandHandler = (id: string) => {\n    history.push(`/brand/${id}`);\n  };\n\n  const targetLikeTop = async (e: any, id: string) => {\n    try {\n      assert.ok(verifiedMemberData, Definer.auth_err1);\n\n      const memberService = new MemberApiService(),\n        like_result: any = await memberService.memberLikeTarget({\n          like_ref_id: id,\n          group_type: \"member\",\n        });\n      assert.ok(like_result, Definer.general_err1);\n\n      if (like_result.like_status > 0) {\n        e.target.style.fill = \"red\";\n        refs.current[like_result.like_ref_id].innerHTML++;\n      } else {\n        e.target.style.fill = \"white\";\n        refs.current[like_result.like_ref_id].innerHTML--;\n      }\n\n      await sweetTopSmallSuccessAlert(\"success\", 700, false);\n    } catch (err: any) {\n      console.log(\"targetLikeTop, ERROR:\", err);\n      sweetErrorHandling(err).then();\n    }\n  };\n\n  return (\n    <div className=\"top_brand_frame\">\n      <Container sx={{ mb: \"45px\" }}>\n        <Stack\n          flexDirection={\"column\"}\n          alignItems={\"center\"}\n          sx={{ mt: \"45px\" }}\n          gap=\"16px\"\n        >\n          <Box className=\"top_brands_title\">Featured Top Brands</Box>\n\n          <Stack className=\"brands_frame\">\n            {topBrands[0] && (\n              <>\n                <Box\n                  className=\"brands_left\"\n                  onClick={() => chosenBrandHandler(topBrands[0]._id)}\n                  sx={{ cursor: \"pointer\" }}\n                >\n                  <div style={{ width: \"215px\", height: \"200px\" }}>\n                    <img\n                      src={`${serverApi}/${topBrands[0].mb_image}`}\n                      alt={topBrands[0].mb_nick}\n                    />\n                  </div>\n                </Box>\n                <Stack className=\"brands_right\">\n                  <Stack\n                    sx={{\n                      display: \"flex\",\n                      flexDirection: \"row\",\n                      justifyContent: \"space-between\",\n                      gap: \"30px\",\n                    }}\n                  >\n                    <Box\n                      className=\"brands_right_top\"\n                      onClick={() => chosenBrandHandler(topBrands[1]._id)}\n                      sx={{ cursor: \"pointer\" }}\n                    >\n                      <div style={{ width: \"215px\", height: \"200px\" }}>\n                        {\" \"}\n                        <img\n                          src={`${serverApi}/${topBrands[1].mb_image}`}\n                          alt={topBrands[1].mb_nick}\n                        />\n                      </div>\n                    </Box>\n                    <Box\n                      className=\"brands_right_top\"\n                      onClick={() => chosenBrandHandler(topBrands[2]._id)}\n                      sx={{ cursor: \"pointer\" }}\n                    >\n                      <div style={{ width: \"215px\", height: \"200px\" }}>\n                        <img\n                          src={`${serverApi}/${topBrands[2].mb_image}`}\n                          alt={topBrands[2].mb_nick}\n                        />\n                      </div>\n                    </Box>\n                  </Stack>\n                  <Box\n                    className=\"brands_right_bottom\"\n                    onClick={() => chosenBrandHandler(topBrands[3]._id)}\n                    sx={{ cursor: \"pointer\" }}\n                  >\n                    <div style={{ width: \"215px\", height: \"200px\" }}>\n                      <img\n                        src={`${serverApi}/${topBrands[3].mb_image}`}\n                        alt={topBrands[3].mb_nick}\n                      />\n                    </div>\n                  </Box>\n                </Stack>\n              </>\n            )}\n          </Stack>\n        </Stack>\n      </Container>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}